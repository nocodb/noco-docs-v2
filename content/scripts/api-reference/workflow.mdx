---
title: 'Workflow'
description: 'Documentation for the workflow object and its methods in NocoDB Scripts'
icon: 'workflow'
---

The `workflow` object provides methods for creating visual workflow steps during script execution. This feature allows you to break down complex scripts into clear, trackable steps that users can follow in real-time.

## Overview

Workflow steps help you:

- **Visualize Progress**: Show users what the script is currently doing
- **Improve UX**: Break complex operations into understandable steps
- **Provide Context**: Add descriptions and visual cues to script operations

Each workflow step can have a title, description, icon, and color to provide rich visual feedback to users.

## Available Methods

### workflow.step()

Creates and starts a new workflow step. If a previous step is running, it will be automatically ended before starting the new step.

**Parameters:**
- `config` (`string | WorkflowStepConfig`): Either a simple title string or a configuration object

**WorkflowStepConfig Properties:**
- `title` (`string`, required): The main title of the workflow step
- `description` (`string`, optional): Additional description text for the step
- `icon` (`WorkflowIcon`, optional): Icon to display with the step.
- `color` (`WorkflowColor`, optional): Color theme for the step.

**Returns:** `string` - A unique step ID for the created step

**Example with simple title:**
```javascript
// Start a simple workflow step
workflow.step('Loading user data...');

// Perform some operations
const users = await table.selectRecordsAsync();

// The step will automatically end when the next step starts
workflow.step('Processing user data...');
```

**Example with full configuration:**
```javascript
// Start a detailed workflow step
workflow.step({
  title: 'Synchronizing Data',
  description: 'Fetching latest records from external API',
  icon: 'sync',
  color: 'blue'
});

// Perform API operations
const response = await fetch('https://api.example.com/data');
const data = await response.json();

// Start next step
workflow.step({
  title: 'Updating Records',
  description: 'Applying changes to database',
  icon: 'database',
  color: 'green'
});
```

### workflow.clear()

Ends the currently running workflow step, if any. This is useful when you want to explicitly end workflow tracking.

**Parameters:** None

**Returns:** `void`

**Example:**
```javascript
// Start a workflow step
workflow.step('Processing data...');

// Do some work
await processData();

// Explicitly end the workflow
workflow.clear();

output.text('All processing complete!');
```

## Available Colors

The `workflow.colors` object provides access to predefined color options:

```javascript
// Access colors through the workflow object
workflow.step({
  title: 'Important Step',
  color: 'red'
});
```

**Available color options:**
- `red` - Red theme (for errors, warnings, or important actions)
- `blue` - Blue theme (for information, data operations)
- `green` - Green theme (for success, completion, creation)
- `yellow` - Yellow theme (for warnings, pending states)
- `purple` - Purple theme (for special operations)
- `orange` - Orange theme (for updates, modifications)
- `gray` - Gray theme (for neutral, background operations)

## Available Icons

The `workflow.icons` object provides access to a comprehensive set of icons.

```javascript
// Access icons through the workflow object
workflow.step({
  title: 'Uploading Files',
  icon: 'upload',
  color: 'blue'
});
```

## Complete Example

Here's a comprehensive example showing how to use workflow steps in a data processing script:

```javascript
// Start the workflow
workflow.step({
  title: 'Initializing Data Import',
  description: 'Setting up connection and validating parameters',
  icon: 'database',
  color: 'blue'
});

// Get user input
const sourceTable = await input.tableAsync('Select source table:');
const targetTable = await input.tableAsync('Select target table:');

// Data validation step
workflow.step({
  title: 'Validating Data Structure',
  description: 'Checking field compatibility between tables',
  icon: 'checkCircle',
  color: 'yellow'
});

// Validate fields match
const sourceFields = sourceTable.fields;
const targetFields = targetTable.fields;
// ... validation logic

// Data processing step
workflow.step({
  title: 'Processing Records',
  description: `Transforming ${sourceTable.name} records for ${targetTable.name}`,
  icon: 'sync',
  color: 'purple'
});

// Process the data
const records = await sourceTable.selectRecordsAsync();
const processedRecords = records.map(record => {
  // ... processing logic
  return transformedRecord;
});

// Final step
workflow.step({
  title: 'Import Complete',
  description: `Successfully imported ${processedRecords.length} records`,
  icon: 'checkCircle',
  color: 'green'
});

// Create records in target table
await targetTable.createRecordsAsync(processedRecords);

// Clear workflow when done
workflow.clear();

output.text(`âœ… Import completed successfully! ${processedRecords.length} records imported.`);
```

## Best Practices

### Step Naming
- Use clear, action-oriented titles: "Loading Data", "Processing Records", "Sending Emails"
- Keep titles concise but descriptive
- Use present continuous tense for ongoing operations

### Icon Selection
- Match icons to the operation being performed
- Use consistent iconography throughout your script
- Consider the user's mental model of the operation

### Step Granularity
- Break complex operations into logical steps
- Don't create too many micro-steps (overwhelming)
- Don't create too few steps (lack of visibility)
